---
import { Image } from "astro:assets";

type Props = {
  name?: string;
  size?: "sm" | "md" | "lg";
  showName?: boolean;
  imageSrc?: string;
  className?: string;
};

const { 
  name = "Sam", 
  size = "md", 
  showName = true, 
  imageSrc = "/favicon.png",
  className = ""
} = Astro.props;

const sizeClasses = {
  sm: "w-8 h-8",
  md: "w-12 h-12",
  lg: "w-20 h-20"
};

const sizeValues = {
  sm: { width: 32, height: 32 },
  md: { width: 48, height: 48 },
  lg: { width: 80, height: 80 }
};

const shadowClasses = {
  sm: "shadow-md shadow-bs-red/30",
  md: "shadow-lg shadow-bs-red/30",
  lg: "shadow-xl shadow-bs-red/30"
};
---

<div class={`author-info flex items-center gap-3 ${className}`}>
  <Image
    src={imageSrc}
    alt={name}
    width={sizeValues[size].width}
    height={sizeValues[size].height}
    class={`${sizeClasses[size]} rounded-full object-cover ${shadowClasses[size]}`}
    loading="lazy"
  />
  {showName && (
    <span class="font-semibold text-bs-white-100">
      {name}
    </span>
  )}
</div>